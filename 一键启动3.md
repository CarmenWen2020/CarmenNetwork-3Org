docker-compose -f docker-compose-orderer-3org.yaml up -d
docker-compose -f docker-compose-org1-2peer.yaml up -d
docker-compose -f docker-compose-org2-2peer.yaml up -d
docker-compose -f docker-compose-org3-2peer.yaml up -d


docker-compose -f docker-compose-orderer-3org.yaml down -v
docker-compose -f docker-compose-org1-2peer.yaml down -v
docker-compose -f docker-compose-org2-2peer.yaml down -v
docker-compose -f docker-compose-org3-2peer.yaml down -v


cd bin

./cryptogen generate --config=../crypto-config.yaml --output ../crypto-config
./configtxgen -configPath ../config  -profile ThreeOrgsOrdererGenesis -channelID fabric-channel -outputBlock ../channel-artifacts/orderer.genesis.block
./configtxgen -configPath ../config  -profile ThreeOrgsChannel -channelID carmenchannel-3org -outputCreateChannelTx ../channel-artifacts/carmenchannel-3org.tx

./configtxgen -configPath ../config  -profile ThreeOrgsChannel -channelID carmenchannel-3org -asOrg Org1MSP -outputAnchorPeersUpdate ../channel-artifacts/Org1MSPanchors.tx
./configtxgen -configPath ../config  -profile ThreeOrgsChannel -channelID carmenchannel-3org -asOrg Org2MSP -outputAnchorPeersUpdate ../channel-artifacts/Org2MSPanchors.tx
./configtxgen -configPath ../config  -profile ThreeOrgsChannel -channelID carmenchannel-3org -asOrg Org3MSP -outputAnchorPeersUpdate ../channel-artifacts/Org3MSPanchors.tx


cd ..

docker-compose -f docker-compose-orderer-3org.yaml up -d
docker-compose -f docker-compose-org1-2peer.yaml up -d
docker-compose -f docker-compose-org2-2peer.yaml up -d
docker-compose -f docker-compose-org3-2peer.yaml up -d



docker exec -it fabric-cli bash

cd /tmp/channel-artifacts/

export APP_CHANNEL=carmenchannel-3org
export TIMEOUT=30
export CORE_PEER_LOCALMSPID=Org1MSP
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp

peer channel create -o orderer.carmenw.com:7050 -c ${APP_CHANNEL} -f "/tmp/channel-artifacts/$APP_CHANNEL.tx" --timeout "${TIMEOUT}s" --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org1.carmenw.com:7051
peer channel join -b /tmp/channel-artifacts/carmenchannel-3org.block export CORE_PEER_TLS_ENABLED=true

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer1.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer1.org1.carmenw.com:8051
peer channel join -b /tmp/channel-artifacts/carmenchannel-3org.block

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org2MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/users/Admin@org2.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org2.carmenw.com:9051
peer channel join -b /tmp/channel-artifacts/carmenchannel-3org.block

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org2MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer1.org2.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/users/Admin@org2.carmenw.com/msp
export CORE_PEER_ADDRESS=peer1.org2.carmenw.com:10051
peer channel join -b /tmp/channel-artifacts/carmenchannel-3org.block

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org3MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/users/Admin@org3.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org3.carmenw.com:11051
peer channel join -b /tmp/channel-artifacts/carmenchannel-3org.block

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org3MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer1.org3.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/users/Admin@org3.carmenw.com/msp
export CORE_PEER_ADDRESS=peer1.org3.carmenw.com:12051
peer channel join -b /tmp/channel-artifacts/carmenchannel-3org.block








export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org1.carmenw.com:7051
peer channel update -o orderer.carmenw.com:7050 -c carmenchannel-3org -f /tmp/channel-artifacts/Org1MSPanchors.tx --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org2MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/users/Admin@org2.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org2.carmenw.com:9051
peer channel update -o orderer.carmenw.com:7050 -c carmenchannel-3org -f /tmp/channel-artifacts/Org2MSPanchors.tx --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org3MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/users/Admin@org3.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org3.carmenw.com:11051
peer channel update -o orderer.carmenw.com:7050 -c carmenchannel-3org -f /tmp/channel-artifacts/Org3MSPanchors.tx --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem








cd /etc/hyperledger/fabric/chaincodes/

peer lifecycle chaincode package java_demo.tar.gz --path /etc/hyperledger/fabric/chaincodes/FabricGeneralChainCode/ --lang java --label java_demo01



export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org1.carmenw.com:7051
peer lifecycle chaincode install java_demo.tar.gz

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer1.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer1.org1.carmenw.com:8051
peer lifecycle chaincode install java_demo.tar.gz

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org2MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/users/Admin@org2.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org2.carmenw.com:9051
peer lifecycle chaincode install java_demo.tar.gz

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org2MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer1.org2.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/users/Admin@org2.carmenw.com/msp
export CORE_PEER_ADDRESS=peer1.org2.carmenw.com:10051
peer lifecycle chaincode install java_demo.tar.gz

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org3MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/users/Admin@org3.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org3.carmenw.com:11051
peer lifecycle chaincode install java_demo.tar.gz

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org3MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer1.org3.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/users/Admin@org3.carmenw.com/msp
export CORE_PEER_ADDRESS=peer1.org3.carmenw.com:12051
peer lifecycle chaincode install java_demo.tar.gz





peer lifecycle chaincode queryinstalled

export CC_PACKAGE_ID=java_demo01:4786c83248869e90e137a60e2ba44822773b1c07624c46f35c067dae9c8204af


export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org1.carmenw.com:7051
peer lifecycle chaincode approveformyorg -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --channelID carmenchannel-3org --name PaperSystem  --version 1.0 --package-id $CC_PACKAGE_ID --sequence 1 --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org2MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/users/Admin@org2.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org2.carmenw.com:9051
peer lifecycle chaincode approveformyorg -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --channelID carmenchannel-3org --name PaperSystem  --version 1.0 --package-id $CC_PACKAGE_ID --sequence 1 --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org3MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/users/Admin@org3.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org3.carmenw.com:11051
peer lifecycle chaincode approveformyorg -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --channelID carmenchannel-3org --name PaperSystem  --version 1.0 --package-id $CC_PACKAGE_ID --sequence 1 --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem







peer lifecycle chaincode checkcommitreadiness --channelID carmenchannel-3org --name PaperSystem --version 1.0 --sequence 1 --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem --output json





peer lifecycle chaincode commit -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --channelID carmenchannel-3org --name PaperSystem --version 1.0 --sequence 1 --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem --peerAddresses peer0.org1.carmenw.com:7051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt --peerAddresses peer0.org2.carmenw.com:9051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt --peerAddresses peer0.org3.carmenw.com:11051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt




peer lifecycle chaincode querycommitted --channelID carmenchannel-3org --name PaperSystem --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem


peer chaincode invoke -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem -C carmenchannel-3org -n PaperSystem --peerAddresses peer0.org1.carmenw.com:7051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt --peerAddresses peer0.org2.carmenw.com:9051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt --peerAddresses peer0.org3.carmenw.com:11051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt -c '{"function":"createData","Args":["test00","{\"ai\":true,\"arch\":true,\"dm\":true,\"edu\":false,\"inter\":false,\"net\":false,\"par\":false,\"secu\":false,\"ssy\":false,\"theo\":false,\"vr\":false,\"ReviewState\":true,\"PaperID\":\"none\",\"Credit\":1}"]}'










_____________________________
后面的全是加动态加org4的 别用







./bin/cryptogen generate --config=./addOrg4/org4-crypto.yaml --output="/Users/carmenw/Desktop/CarmenNetwork-3org/crypto-config/"

cd ../bin
./configtxgen -printOrg Org4MSP -profile ./configtx.yaml > ../channel-artifacts/org4.json 

docker-compose -f docker-compose-org4.yaml up -d





docker exec -it fabric-cli bash 


export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org1.carmenw.com:7051

------------
peer channel fetch config channel-artifacts/config_block.pb -o localhost:7050 --ordererTLSHostnameOverride orderer.carmenw.com -c carmenchannel-3org --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem"

export ORDERER_CA=/etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem
export CHANNEL_NAME=carmenchannel-3org
echo $ORDERER_CA && echo $CHANNEL_NAME

peer channel fetch config config_block.pb -o orderer.carmenw.com:7050 -c $CHANNEL_NAME --tls --cafile $ORDERER_CA
configtxlator proto_decode --input config_block.pb --type common.Block --output config_block.json
jq .data.data[0].payload.data.config config_block.json > config.json


jq -s '.[0] * {"channel_group":{"groups":{"Application":{"groups": {"Org4MSP":.[1]}}}}}' config.json /tmp/channel-artifacts/org4.json > modified_config.json

configtxlator proto_encode --input config.json --type common.Config --output config.pb

configtxlator proto_encode --input modified_config.json --type common.Config --output modified_config.pb

configtxlator compute_update --channel_id carmenchannel-3org --original config.pb --updated modified_config.pb --output org4_update.pb

configtxlator proto_decode --input org4_update.pb --type common.ConfigUpdate --output org4_update.json

echo '{"payload":{"header":{"channel_header":{"channel_id":"'carmenchannel-3org'", "type":2}},"data":{"config_update":'$(cat org4_update.json)'}}}' | jq . > org4_update_in_envelope.json


configtxlator proto_encode --input org4_update_in_envelope.json --type common.Envelope --output org4_update_in_envelope.pb

/opt/gopath/src/github.com/hyperledger/fabric/peer


export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org1MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/users/Admin@org1.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org1.carmenw.com:7051
peer channel signconfigtx -f /opt/gopath/src/github.com/hyperledger/fabric/peer/org4_update_in_envelope.pb
[01c 05-19 07:35:50.94 UTC] [channelCmd] InitCmdFactory -> INFO Endorser and orderer connections initialized


export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org2MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/users/Admin@org2.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org2.carmenw.com:9051

peer channel update -f /opt/gopath/src/github.com/hyperledger/fabric/peer/org4_update_in_envelope.pb -c carmenchannel-3org -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --tls --cafile "/etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem"
[022 05-19 07:39:14.81 UTC] [channelCmd] update -> INFO Successfully submitted channel update

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org3MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/users/Admin@org3.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org3.carmenw.com:11051
peer channel update -f /opt/gopath/src/github.com/hyperledger/fabric/peer/org4_update_in_envelope.pb -c carmenchannel-3org -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --tls --cafile "/etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem"

export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org4MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/peers/peer0.org4.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/users/Admin@org4.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org4.carmenw.com:13051
peer channel fetch 0 /tmp/channel-artifacts/carmenchannel-3org.block -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com -c carmenchannel-3org --tls --cafile "/etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem"
[01d 05-19 07:47:28.16 UTC] [channelCmd] InitCmdFactory -> INFO Endorser and orderer connections initialized
[01e 05-19 07:47:28.16 UTC] [msp.identity] Sign -> DEBU Sign: plaintext: 0AF6060A1E08051A060890EC97940622...067C7B067F2C12080A021A0012021A00 
[01f 05-19 07:47:28.16 UTC] [msp.identity] Sign -> DEBU Sign: digest: 14323D0C57F38CD2CC4FDB3D4E39E91B76C8C7EFE91D63177856AC9AD166D20E 
[020 05-19 07:47:28.33 UTC] [cli.common] readBlock -> INFO Received block: 0

peer channel join -b /tmp/channel-artifacts/carmenchannel-3org.block
[01d 05-19 08:25:09.79 UTC] [channelCmd] InitCmdFactory -> INFO Endorser and orderer connections initialized
[01e 05-19 08:25:09.80 UTC] [msp.identity] Sign -> DEBU Sign: plaintext: 0AB4070A5C08011A0C08E5FD97940610...6D5178BE1A0A0A000A000A000A000A00 
[01f 05-19 08:25:09.80 UTC] [msp.identity] Sign -> DEBU Sign: digest: 348FC8A6D62C502B6158A3F47E6D93638131ED33E28917D1BB28E7EB23D83F28 
[020 05-19 08:25:10.27 UTC] [channelCmd] executeJoin -> INFO Successfully submitted proposal to join channel


export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org4MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/peers/peer0.org4.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/users/Admin@org4.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org4.carmenw.com:13051
peer lifecycle chaincode install java_demo.tar.gz
[020 05-19 08:29:49.76 UTC] [cli.lifecycle.chaincode] submitInstallProposal -> INFO Installed remotely: response:<status:200 payload:"\nLjava_demo01:4786c83248869e90e137a60e2ba44822773b1c07624c46f35c067dae9c8204af\022\013java_demo01" > 
[021 05-19 08:29:49.76 UTC] [cli.lifecycle.chaincode] submitInstallProposal -> INFO Chaincode code package identifier: java_demo01:4786c83248869e90e137a60e2ba44822773b1c07624c46f35c067dae9c8204af


export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org4MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/peers/peer1.org4.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/users/Admin@org4.carmenw.com/msp
export CORE_PEER_ADDRESS=peer1.org4.carmenw.com:14051
peer lifecycle chaincode install java_demo.tar.gz
[020 05-19 08:31:28.25 UTC] [cli.lifecycle.chaincode] submitInstallProposal -> INFO Installed remotely: response:<status:200 payload:"\nLjava_demo01:4786c83248869e90e137a60e2ba44822773b1c07624c46f35c067dae9c8204af\022\013java_demo01" > 
[021 05-19 08:31:28.25 UTC] [cli.lifecycle.chaincode] submitInstallProposal -> INFO Chaincode code package identifier: java_demo01:4786c83248869e90e137a60e2ba44822773b1c07624c46f35c067dae9c8204af


export CORE_PEER_TLS_ENABLED=true
export CORE_PEER_LOCALMSPID="Org4MSP"
export CORE_PEER_TLS_ROOTCERT_FILE=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/peers/peer0.org4.carmenw.com/tls/ca.crt
export CORE_PEER_MSPCONFIGPATH=/etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/users/Admin@org4.carmenw.com/msp
export CORE_PEER_ADDRESS=peer0.org4.carmenw.com:13051

peer lifecycle chaincode approveformyorg -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --channelID carmenchannel-3org --name PaperSystem  --version 1.0 --package-id $CC_PACKAGE_ID --sequence 1 --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem
[025 05-19 08:34:04.10 UTC] [chaincodeCmd] ClientWait -> INFO txid [76f957576e64025fa49f9b31ff63d07de04c9a59cdbc22e7df06ae4c202a9f44] committed with status (VALID) at peer0.org4.carmenw.com:13051



peer lifecycle chaincode querycommitted --channelID carmenchannel-3org --name PaperSystem --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem
Committed chaincode definition for chaincode 'PaperSystem' on channel 'carmenchannel-3org':
Version: 1.0, Sequence: 1, Endorsement Plugin: escc, Validation Plugin: vscc, Approvals: [Org1MSP: true, Org2MSP: true, Org3MSP: true, Org4MSP: true]

peer chaincode invoke -o localhost:7050 --ordererTLSHostnameOverride orderer.example.com --tls --cafile "${PWD}/organizations/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem" -C channel1 -n basic --peerAddresses localhost:9051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt" --peerAddresses localhost:11051 --tlsRootCertFiles "${PWD}/organizations/peerOrganizations/org3.example.com/peers/peer0.org3.example.com/tls/ca.crt" -c '{"function":"InitLedger","Args":[]}'


peer chaincode invoke -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem -C carmenchannel-3org -n PaperSystem --peerAddresses peer0.org1.carmenw.com:7051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt --peerAddresses peer0.org2.carmenw.com:9051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt --peerAddresses peer0.org3.carmenw.com:11051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt --peerAddresses peer0.org4.carmenw.com:13051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/peers/peer0.org4.carmenw.com/tls/ca.crt -c '{"function":"createData","Args":["user5","{\"ai\":\"true\",\"arch\":\"true\",\"dm\":\"true\",\"edu\":\"false\",\"inter\":\"false\",\"net\":\"false\",\"par\":\"false\",\"secu\":\"false\",\"ssy\":\"false\",\"theo\":\"false\",\"vr\":\"false\",\"ReviewState\":\"true\",\"PaperID\":\"none\",\"Credit\":1}"]}'

peer chaincode invoke -o orderer.carmenw.com:7050 --ordererTLSHostnameOverride orderer.carmenw.com --tls --cafile /etc/hyperledger/fabric/crypto-config/ordererOrganizations/carmenw.com/orderers/orderer.carmenw.com/msp/tlscacerts/tlsca.carmenw.com-cert.pem -C carmenchannel-3org -n PaperSystem --peerAddresses peer0.org1.carmenw.com:7051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org1.carmenw.com/peers/peer0.org1.carmenw.com/tls/ca.crt --peerAddresses peer0.org2.carmenw.com:9051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org2.carmenw.com/peers/peer0.org2.carmenw.com/tls/ca.crt --peerAddresses peer0.org3.carmenw.com:11051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org3.carmenw.com/peers/peer0.org3.carmenw.com/tls/ca.crt --peerAddresses peer0.org4.carmenw.com:13051 --tlsRootCertFiles /etc/hyperledger/fabric/crypto-config/peerOrganizations/org4.carmenw.com/peers/peer0.org4.carmenw.com/tls/ca.crt -c '{"function":"createData","Args":["user5","{\"ai\":\"true\",\"arch\":\"true\",\"dm\":\"true\",\"edu\":\"false\",\"inter\":\"false\",\"net\":\"false\",\"par\":\"false\",\"secu\":\"false\",\"ssy\":\"false\",\"theo\":\"false\",\"vr\":\"false\",\"ReviewState\":\"true\",\"PaperID\":\"none\",\"Credit\":1}"]}'

